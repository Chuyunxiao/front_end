<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 集合：表示无重复值的有序列表
        let set = new Set()

        // 添加元素
        set.add(2)
        set.add('4')
        set.add('4') // 不会重复
        set.add(['hello','world',3])
        console.log(set)
        // 删除元素
        set.delete(2)
        console.log(set)
        // 校验某个值是否在集合中
        console.log(set.has(2))
        // 集合的长度
        console.log(set.size)

        set.forEach((val,key)=>{console.log(val,key)})

        // 将set转换成数组
        let set2 = new Set([1,2,3,3,3,4])
        console.log(set2)
        // 扩展运算符
        let arr = [...set2]
        console.log(arr)

        // 1.set中对象的引用无法被释放
        // let set3 = new Set(), obj = {}
        // set3.add(obj)

        // // 释放当前资源
        // obj = null
        // console.log(set3)

        // 弱set可以释放对象
        let set3 = new WeakSet(), obj = {a:123}
        set3.add(obj)

        // 释放当前资源
        obj = null;
        console.log(set3)
        // WeakSet
        // 1.不能传入非对象类型的参数
        // 2.不能迭代
        // 3.没有forEach()
        // 4.没有size属性

        // Map类型是键值对的有序列表，键和值是任意类型
        let map = new Map()
        // set赋值
        map.set('name','张三')
        map.set('age',20)
        console.log(map)
        // get获取
        console.log(map.get('name'))
        // delete删除
        map.delete('age')
        console.log(map)
        // has查找
        console.log(map.has('age'))
        // clear清除
        map.clear()
        console.log(map)

        map.set(['a',[1,2,3]],'hello') // 键和值可以任意类型
        console.log(map)

        let m = new Map([
            ['a', 1],
            ['c', 2]
        ])
        console.log(m)
    </script>
</body>
</html>